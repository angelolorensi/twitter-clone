<div class="tweetBox">
  <form>
    <div class="tweetBox-tweetVisibility">
      <button class="tweetBox-tweetVisibility-btn" mat-button [matMenuTriggerFor]="TweetVisibility">
        {{selectedTweetVisibilityOption}}<mat-icon class="tweetBox-tweetVisibility-btn-icon">expand_more</mat-icon>
      </button>
      <mat-menu class="tweetBox-tweetVisibility-menu" #TweetVisibility="matMenu">
        <button mat-menu-item *ngFor="let option of tweetVisibilityMatMenuOptions" (click)="selectTweetVisibility(option)">
          {{option}}
        </button>
      </mat-menu>
    </div>
    <div class="tweetbox-input" [formGroup]="tweetForm">
      <img *ngIf="user?.profilePicture?.imageUrl" [src]="user?.profilePicture?.imageUrl" alt="User Avatar" />
      <img *ngIf="!user?.profilePicture?.imageUrl" src="https://i.pinimg.com/originals/a6/58/32/a65832155622ac173337874f02b218fb.png" alt="Default Avatar" />
      <textarea appAutoResizeTextarea type="text" placeholder="O que estÃ¡ acontecendo?" formControlName="tweetContent"></textarea>
    </div>
    <div class="tweetBox-replyRestriction">
      <button mat-button [matMenuTriggerFor]="ReplyRestriction">
        <mat-icon class="tweetBox-replyRestriction-btn-icon">{{replyRestrictionIcon}}</mat-icon> {{selectedReplyRestrictionOption}}
      </button>
      <mat-menu class="tweetBox-replyRestriction-menu" #ReplyRestriction="matMenu">
        <button mat-menu-item *ngFor="let replyRestrictionOption of replyRestrictionMatMenuOptions" (click)="selectReplyRestriction(replyRestrictionOption)">
          {{replyRestrictionOption}}
        </button>
      </mat-menu>
    </div>
    <img class="tweetBox-tweetImg" [src]="imageUrl" *ngIf="showImage">
    <div class="tweetBox-options">
      <div class="tweetBox-options-selection">
        <mat-icon title="Image" (click)="imageInput.click()" color="primary" class="tweetBox-icons">image</mat-icon>
        <input #imageInput type="file" accept=".jpeg, .png, .jpg" style="display: none;" (change)="handleImageSelected($event)">
        <mat-icon (click)="gifInput.click()" color="primary" class="tweetBox-icons">gif_box</mat-icon>
        <input title="Gif" #gifInput type="file" accept=".gif" style="display: none;" (change)="handleGifSelected($event)">
        <mat-icon title="Poll" color="primary" class="tweetBox-icons">ballot</mat-icon>
        <mat-icon title="Emoji" color="primary" class="tweetBox-icons">mood</mat-icon>
        <mat-icon title="Schedule" color="primary" class="tweetBox-icons">calendar_month</mat-icon>
        <mat-icon title="Location" color="primary" class="tweetBox-icons">location_on</mat-icon>
      </div>
      <button class="tweetBox-btn" (click)="submitTweet()">Postar</button>
    </div>
  </form>
</div>
